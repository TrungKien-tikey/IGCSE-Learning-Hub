spring.application.name=ai-service
server.port=8082

spring.datasource.url=jdbc:mysql://localhost:3306/ai_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=root
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest

# ==============================================
# LOGGING CONFIGURATION - OPTIMIZED
# ==============================================

# Root logging level - chỉ hiển thị WARN trở lên
logging.level.root=WARN

# AI Service - Application logs (INFO level cho logs quan trọng)
logging.level.com.igcse.ai=INFO
logging.level.com.igcse.ai.controller=INFO
logging.level.com.igcse.ai.service.AIService=INFO
logging.level.com.igcse.ai.listener=INFO

# Tắt noise từ Spring Framework
logging.level.org.springframework.boot=WARN
logging.level.org.springframework.boot.autoconfigure=ERROR
logging.level.org.springframework.boot.devtools=ERROR
logging.level.org.springframework.web=ERROR
logging.level.org.springframework.data=WARN
logging.level.org.springframework.orm.jpa=ERROR
logging.level.org.springframework.security=WARN
logging.level.org.springframework.amqp=WARN

# Tắt noise từ Hibernate
logging.level.org.hibernate=ERROR
logging.level.org.hibernate.SQL=ERROR

# Tắt noise từ Tomcat
logging.level.org.apache.catalina=ERROR
logging.level.org.apache.coyote=ERROR
logging.level.org.apache.tomcat=ERROR

# Tắt noise từ HikariCP
logging.level.com.zaxxer.hikari=WARN

# Pattern ngắn gọn, dễ đọc
logging.pattern.console=%d{HH:mm:ss.SSS} %clr(%-5level) %clr(%logger{36}){cyan} - %msg%n

# File logging
logging.file.name=logs/ai-service.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=10

spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=ai-batch-


<<<<<<< HEAD
openai.api.key=KEY
=======
openai.api.key=${OPENAI_API_KEY}
>>>>>>> 6658bd2fd262af3cfc297d58adba9df8eb3ea2d9
openai.model=gpt-4o-mini
openai.api.timeout=60
openai.log.requests=false
openai.log.responses=false


# Bật Actuator Endpoints
# include "prometheus" 
management.endpoints.web.exposure.include=health,info,prometheus

# (Tuỳ chọn) Hiển thị chi tiết health check
management.endpoint.health.show-details=always

# Gắn tên ứng dụng vào metrics để dễ filter trên Grafana
<<<<<<< HEAD
management.metrics.tags.application=${spring.application.name}
=======
management.metrics.tags.application=${spring.application.name}
>>>>>>> 6658bd2fd262af3cfc297d58adba9df8eb3ea2d9
