{
  "info": {
    "name": "IGCSE Learning Hub - Exam Service API",
    "description": "Postman collection for testing IGCSE Learning Hub Exam Service endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Create Exam",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "title": "Bài thi Toán học IGCSE",
            "description": "Bài thi kiểm tra kiến thức Toán học cơ bản IGCSE",
            "duration": 120,
            "maxAttempts": 3,
            "endTime": "2026-12-31T23:59:59",
            "isActive": true,
            "questions": [
              {
                "content": "Tính giá trị của biểu thức: 2 + 3 × 4",
                "score": 2.0,
                "orderIndex": 0,
                "questionType": "MCQ",
                "options": [
                  {
                    "content": "14",
                    "isCorrect": true
                  },
                  {
                    "content": "20",
                    "isCorrect": false
                  },
                  {
                    "content": "24",
                    "isCorrect": false
                  },
                  {
                    "content": "8",
                    "isCorrect": false
                  }
                ]
              },
              {
                "content": "Giải phương trình: x² - 5x + 6 = 0",
                "score": 3.0,
                "orderIndex": 1,
                "questionType": "MCQ",
                "options": [
                  {
                    "content": "x = 2 hoặc x = 3",
                    "isCorrect": true
                  },
                  {
                    "content": "x = -2 hoặc x = -3",
                    "isCorrect": false
                  },
                  {
                    "content": "x = 1 hoặc x = 6",
                    "isCorrect": false
                  },
                  {
                    "content": "x = 5 hoặc x = -6",
                    "isCorrect": false
                  }
                ]
              },
              {
                "content": "Chứng minh rằng tổng các góc trong tam giác bằng 180°.",
                "score": 5.0,
                "orderIndex": 2,
                "questionType": "ESSAY",
                "essayCorrectAnswer": "Trong tam giác ABC, kẻ đường thẳng song song với BC qua đỉnh A. Khi đó, ta có góc BAC = góc ACD (theo định lý đường thẳng song song cắt hai đường thẳng tạo thành góc trong tương đẳng). Tương tự, góc ABC = góc BCE. Tổng các góc: góc BAC + góc ABC + góc ACB = góc ACD + góc BCE + góc ACB = 180°."
              },
              {
                "content": "Tính giới hạn: lim(x→∞) (2x + 3)/(x² - 1)",
                "score": 3.0,
                "orderIndex": 3,
                "questionType": "MCQ",
                "options": [
                  {
                    "content": "0",
                    "isCorrect": true
                  },
                  {
                    "content": "2",
                    "isCorrect": false
                  },
                  {
                    "content": "∞",
                    "isCorrect": false
                  },
                  {
                    "content": "Không tồn tại",
                    "isCorrect": false
                  }
                ]
              },
              {
                "content": "Phân tích hàm số f(x) = x³ - 3x² + 3x - 1 thành nhân tử.",
                "score": 4.0,
                "orderIndex": 4,
                "questionType": "ESSAY",
                "essayCorrectAnswer": "Hàm số f(x) = x³ - 3x² + 3x - 1. Ta có f'(x) = 3x² - 6x + 3 = 3(x² - 2x + 1) = 3(x-1)² ≥ 0. Vậy f'(x) ≥ 0 với mọi x, hàm số đồng biến. f(1) = 1 - 3 + 3 - 1 = 0. Vậy x-1 là nhân tử của f(x). Chia f(x) cho (x-1): x³ - 3x² + 3x - 1 = (x-1)(x² - 2x + 1) = (x-1)(x-1)² = (x-1)³."
              }
            ]
          }
        },
        "url": {
          "raw": "{{base_url}}/api/exams",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams"
          ]
        }
      }
    },
    {
      "name": "Create Exam - Simple Version",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "title": "Bài thi thử nghiệm",
            "description": "Bài thi đơn giản để test",
            "duration": 60,
            "maxAttempts": 1,
            "isActive": true,
            "questions": [
              {
                "content": "1 + 1 = ?",
                "score": 1.0,
                "questionType": "MCQ",
                "options": [
                  {
                    "content": "2",
                    "isCorrect": true
                  },
                  {
                    "content": "3",
                    "isCorrect": false
                  }
                ]
              },
              {
                "content": "Viết một đoạn văn ngắn về tầm quan trọng của học tập.",
                "score": 3.0,
                "questionType": "ESSAY"
              }
            ]
          }
        },
        "url": {
          "raw": "{{base_url}}/api/exams",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams"
          ]
        }
      }
    },
    {
      "name": "Get All Exams",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/exams",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams"
          ]
        }
      }
    },
    {
      "name": "Get Exam by ID",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/exams/{{exam_id}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams",
            "{{exam_id}}"
          ]
        }
      }
    },
    {
      "name": "Start Exam",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "examId": "{{exam_id}}",
            "userId": 1
          }
        },
        "url": {
          "raw": "{{base_url}}/api/exams/start",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams",
            "start"
          ]
        }
      }
    },
    {
      "name": "Submit Exam - Full Answers",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "attemptId": "{{attempt_id}}",
            "answers": [
              {
                "questionId": "{{question_1_id}}",
                "selectedOptionId": "{{correct_option_1_id}}"
              },
              {
                "questionId": "{{question_2_id}}",
                "selectedOptionId": "{{correct_option_2_id}}"
              },
              {
                "questionId": "{{question_3_id}}",
                "textAnswer": "Trong tam giác ABC, kẻ đường thẳng song song với BC qua đỉnh A cắt AB tại D và AC tại E. Khi đó, góc BAC = góc ACD (góc trong tương đẳng), góc ABC = góc BCE. Tổng các góc trong tam giác ADE bằng 180°. Vậy tổng các góc trong tam giác ABC bằng 180°."
              },
              {
                "questionId": "{{question_4_id}}",
                "selectedOptionId": "{{correct_option_4_id}}"
              },
              {
                "questionId": "{{question_5_id}}",
                "textAnswer": "Hàm số f(x) = x³ - 3x² + 3x - 1. Đạo hàm f'(x) = 3x² - 6x + 3 = 3(x² - 2x + 1) = 3(x-1)² ≥ 0. f(1) = 0. Vậy x-1 là nhân tử. Chia f(x) cho (x-1): x³ - 3x² + 3x - 1 = (x-1)(x² - 2x + 1) = (x-1)(x-1)² = (x-1)³."
              }
            ]
          }
        },
        "url": {
          "raw": "{{base_url}}/api/exams/submit",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams",
            "submit"
          ]
        }
      }
    },
    {
      "name": "Submit Exam - Simple Version",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "attemptId": "{{attempt_id}}",
            "answers": [
              {
                "questionId": "{{question_1_id}}",
                "selectedOptionId": "{{correct_option_1_id}}"
              },
              {
                "questionId": "{{question_2_id}}",
                "textAnswer": "Học tập rất quan trọng vì nó giúp chúng ta phát triển kiến thức, kỹ năng và tư duy. Học tập mở mang tầm nhìn, giúp chúng ta thích nghi với thế giới thay đổi và đạt được mục tiêu trong cuộc sống."
              }
            ]
          }
        },
        "url": {
          "raw": "{{base_url}}/api/exams/submit",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams",
            "submit"
          ]
        }
      }
    },
    {
      "name": "Get Exam Attempt",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/exams/attempt/{{attempt_id}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams",
            "attempt",
            "{{attempt_id}}"
          ]
        }
      }
    },
    {
      "name": "Delete Exam",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/exams/{{exam_id}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "api",
            "exams",
            "{{exam_id}}"
          ]
        }
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "exam_id",
      "value": "",
      "type": "string",
      "description": "ID của bài thi được tạo"
    },
    {
      "key": "attempt_id",
      "value": "",
      "type": "string",
      "description": "ID của lần thi được tạo"
    },
    {
      "key": "question_1_id",
      "value": "",
      "type": "string",
      "description": "ID của câu hỏi đầu tiên"
    },
    {
      "key": "question_2_id",
      "value": "",
      "type": "string",
      "description": "ID của câu hỏi thứ hai"
    },
    {
      "key": "question_3_id",
      "value": "",
      "type": "string",
      "description": "ID của câu hỏi thứ ba (essay)"
    },
    {
      "key": "question_4_id",
      "value": "",
      "type": "string",
      "description": "ID của câu hỏi thứ tư"
    },
    {
      "key": "question_5_id",
      "value": "",
      "type": "string",
      "description": "ID của câu hỏi thứ năm (essay)"
    },
    {
      "key": "correct_option_1_id",
      "value": "",
      "type": "string",
      "description": "ID của đáp án đúng cho câu hỏi 1"
    },
    {
      "key": "correct_option_2_id",
      "value": "",
      "type": "string",
      "description": "ID của đáp án đúng cho câu hỏi 2"
    },
    {
      "key": "correct_option_4_id",
      "value": "",
      "type": "string",
      "description": "ID của đáp án đúng cho câu hỏi 4"
    }
  ]
}